(function(t){function s(s){for(var a,h,c=s[0],l=s[1],o=s[2],u=0,y=[];u<c.length;u++)h=c[u],i[h]&&y.push(i[h][0]),i[h]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);r&&r(s);while(y.length)y.shift()();return n.push.apply(n,o||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,c=1;c<e.length;c++){var l=e[c];0!==i[l]&&(a=!1)}a&&(n.splice(s--,1),t=h(h.s=e[0]))}return t}var a={},i={app:0},n=[];function h(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,h),e.l=!0,e.exports}h.m=t,h.c=a,h.d=function(t,s,e){h.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,s){if(1&s&&(t=h(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(h.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)h.d(e,a,function(s){return t[s]}.bind(null,a));return e},h.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(s,"a",s),s},h.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},h.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=s,c=c.slice();for(var o=0;o<c.length;o++)s(c[o]);var r=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"07bb":function(t,s,e){},"17df":function(t,s,e){"use strict";var a=e("7e58"),i=e.n(a);i.a},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),i=(e("54ba"),e("2f62")),n=e("8c4f"),h=e("5c96"),c=e.n(h),l=(e("0fae"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("toolBar"),e("HelloWorld",{attrs:{msg:""}})],1)}),o=[],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"fullCanvas",staticStyle:{width:"100%"}},[e("div",{ref:"controlCanvas",staticClass:"canvasclass"},[e("canvas",{ref:"canvas",style:{cursor:t.cursorstyle},attrs:{id:"canvas"},on:{mouseover:function(s){return t.canvasOver(s)},mousedown:function(s){return t.canvasDown(s)},mousemove:function(s){return t.canvasMove(s)},mouseup:function(s){return t.canvasUp(s)},mouseleave:function(s){return t.canvasLeave(s)}}})])])},u=[],y=e("d225"),v=e("b0b4"),p=(e("28a5"),e("768b")),f=e("75fc"),g=e("9a04"),d=(e("c5f6"),new a["default"]),m={name:"HelloWorld",props:{msg:String},mounted:function(){var t=this;d.$on("myFun",function(s){t.colorstyle=s}),d.$on("type",function(s){t.type=s,"Ploygon"==s&&t.openbox(s)}),d.$on("clean",function(){t.clean()}),d.$on("dele",function(){t.dele()}),d.$on("savecav",function(){t.savedev()}),d.$on("loadcav",function(s){t.loadcav(s)}),this.show()},data:function(){return{colorstyle:"rgb(0,0,0,1)",clickCanvasX:"",clickCanvasY:"",type:"line",canvaswidth:450,canvasheight:350,canvasmargintop:100,canvasmargintopbackup:0,cursorstyle:"default",cursordirection:"",cursorjudge:!1,scrollchange:0,canvasMoveData:[],canvasOrigindata:[],polynumber:0,tempcanvax:0,tempcanvay:0,tempcount:0,tempdata:[],tempupdata:[],judge1:!1,judge2:!1,judge3:!1,alltypetemp:[],alltype:[],allRanPolyData:[],ranpolyData:[],clickjudge:!1,clickjudge1:!1,tempnumber:Number,clickdata:[],key:[]}},methods:{handleScroll:function(t){t=M.getEvent(t);var s=M.getWheelDelta(t);if(this.scrollchange=0,1==s){if(this.scrollchange=20,this.canvaswidth>=1500||this.canvasheight>=1300)return void this.$alert("您扩充的画布太大，请重试！","扩充画布",{confirmButtonText:"确定",callback:function(){}});if(this.canvaswidth+=this.scrollchange,this.canvasheight+=this.scrollchange,this.canvasmargintop>=20?this.canvasmargintop-=this.scrollchange/2:this.canvasmargintopbackup-=this.scrollchange/2,this.$refs.fullCanvas.style.textAlign||this.$refs.controlCanvas.style.marginLeft){var e=parseInt(this.$refs.controlCanvas.style.marginLeft);this.$refs.controlCanvas.style.marginLeft="".concat(e-this.scrollchange/2,"px")}}else{if(this.scrollchange=-20,this.canvaswidth<=20||this.canvasheight<=20)return void this.$alert("您缩小的画布太小，请重试！","缩小画布",{confirmButtonText:"确定",callback:function(){}});if(this.canvaswidth+=this.scrollchange,this.canvasheight+=this.scrollchange,this.canvasmargintop-=this.scrollchange/2,this.$refs.fullCanvas.style.textAlign||this.$refs.controlCanvas.style.marginLeft){var a=parseInt(this.$refs.controlCanvas.style.marginLeft);this.$refs.controlCanvas.style.marginLeft="".concat(a-this.scrollchange/2,"px")}}this.show(),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData)},show:function(){this.$store.commit("increment"),this.canvas=this.$refs.canvas,this.canvas.height=this.canvasheight,this.canvas.width=this.canvaswidth,this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=1,this.$refs.controlCanvas.style.marginTop="".concat(this.canvasmargintop+this.canvasmargintopbackup<0?0:this.canvasmargintop+this.canvasmargintopbackup,"px"),this.ctx.rect(0,0,this.canvaswidth,this.canvasheight),this.ctx.stroke()},canvasOver:function(){M.addHandler(document,"mousewheel",this.handleScroll,!0),M.addHandler(document,"DOMMouseScroll",this.handleScroll,!0)},canvasDown:function(t){if(this.canvasMoveUse=!0,this.canvasMoveData=[this.ctx,0,0,this.canvaswidth,this.canvasheight],"default"==this.cursorstyle){var s,e;if(this.clickCanvasX=t.clientX-t.target.offsetLeft,this.clickCanvasY=t.clientY-t.target.offsetTop+document.documentElement.scrollTop,"radomPloygon"!=this.type&&(this.judge1=!1),this.tempdata.push({x:this.clickCanvasX,y:this.clickCanvasY}),this.judge1){this.ctx.moveTo(this.tempcanvax,this.tempcanvay),this.ctx.strokeStyle=this.colorstyle;var a=[this.ctx,this.tempupdata[this.tempupdata.length-1].x,this.tempupdata[this.tempupdata.length-1].y,this.clickCanvasX,this.clickCanvasY,this.ctx.strokeStyle,this.type];this.alltypetemp=Object(g["a"])(D,a),this.alltypetemp.generate(),this.ctx.stroke();try{if(this.tempupdata[this.tempupdata.length-1].x==this.clickCanvasX&&this.tempupdata[this.tempupdata.length-1].y==this.clickCanvasY){var i=[this.ctx,this.tempupdata[this.tempupdata.length-1].x,this.tempupdata[this.tempupdata.length-1].y,this.tempdata[0].x,this.tempdata[0].y,this.tempcount,this.ctx.strokeStyle];this.allRanPolyData.push(Object(g["a"])(D,i));var n=[this.ctx,this.allRanPolyData[0].x+this.allRanPolyData[0].a,this.allRanPolyData[0].y+this.allRanPolyData[0].b,this.allRanPolyData[0].x,this.allRanPolyData[0].y,this.tempcount,this.ctx.strokeStyle],h=Object(g["a"])(D,n);this.key=[],this.key.push(h);for(var c=1;c<this.allRanPolyData.length;c++)this.key.push(this.allRanPolyData[c]);var l=Object(g["a"])(w,[this.ctx,this.type,this.ctx.strokeStyle,0].concat(Object(f["a"])(this.key)));return this.alltype.push(l),this.tempcanvax=0,this.tempcanvay=0,this.tempcount=0,this.tempdata=[],this.tempupdata=[],this.allRanPolyData=[],this.alltypetemp=[],this.judge1=!1,this.judge2=!1,void(this.judge3=!1)}}catch(r){}}else this.ctx.moveTo(this.clickCanvasX,this.clickCanvasY);for(var o=0;o<this.alltype.length;o++)if(!(this.alltype[o]instanceof Array))switch(this.alltype[o].type){case"radius":if(this.ctx.beginPath(),this.ctx.rect(this.alltype[o].x-this.alltype[o].a,this.alltype[o].y+this.alltype[o].b,2*this.alltype[o].a,2*-this.alltype[o].b),this.ctx.closePath(),this.ctx.isPointInPath(this.clickCanvasX,this.clickCanvasY))return this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.drawDashRect(this.ctx,this.alltype[o].x-this.alltype[o].a,this.alltype[o].y+this.alltype[o].b,2*this.alltype[o].a,2*-this.alltype[o].b),this.clickdata.push([this.alltype[o].x-this.alltype[o].a,this.alltype[o].y+this.alltype[o].b,2*this.alltype[o].a,2*-this.alltype[o].b]),this.ctx.strokeStyle=this.alltype[o].color,this.clickjudge=!0,this.tempnumber=o,void(this.clickjudge1&&(this.clickdata[0][0]==this.alltype[o].x-this.alltype[o].a&&this.clickdata[0][1]==this.alltype[o].y+this.alltype[o].b&&this.clickdata[0][2]==2*this.alltype[o].a&&this.clickdata[0][3]==2*-this.alltype[o].b||(this.clickdata.splice(0,1),this.clickjudge1=!1)));this.generateAgainAll(this.alltype),this.clickjudge=!1;try{this.clickdata[0][0]==this.alltype[o].x-this.alltype[o].a&&this.clickdata[0][1]==this.alltype[o].y+this.alltype[o].b&&this.clickdata[0][2]==2*this.alltype[o].a&&this.clickdata[0][3]==2*-this.alltype[o].b&&(this.clickjudge1=!1,this.clickdata.splice(0,1),this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype))}catch(r){}break;case"rectangle":if(s=this.alltype[o].compare(),this.ctx.beginPath(),this.ctx.rect(s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny),this.ctx.closePath(),this.ctx.isPointInPath(this.clickCanvasX,this.clickCanvasY))return this.cleanScreen(this.ctx),e=this.alltype[o],this.alltype.splice(o,1),this.generateAgainAll(this.alltype),this.alltype.splice(o,0,e),this.drawDashRect(this.ctx,s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny),this.ctx.strokeStyle=this.alltype[o].color,this.clickdata.push([s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny]),this.clickjudge=!0,this.tempnumber=o,void(this.clickjudge1&&(this.clickdata[0][0]==s.minx&&this.clickdata[0][1]==s.miny&&this.clickdata[0][2]==s.maxx-s.minx&&this.clickdata[0][3]==s.maxy-s.miny||(this.clickdata.splice(0,1),this.clickjudge1=!1)));this.generateAgainAll(this.alltype),this.clickjudge=!1;try{this.clickdata[0][0]==s.minx&&this.clickdata[0][1]==s.miny&&this.clickdata[0][2]==s.maxx-s.minx&&this.clickdata[0][3]==s.maxy-s.miny&&(this.clickjudge1=!1,this.clickdata.splice(0,1),this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype))}catch(r){}break;default:if(s=this.alltype[o].compare(),this.ctx.beginPath(),this.ctx.rect(s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny),this.ctx.closePath(),this.ctx.isPointInPath(this.clickCanvasX,this.clickCanvasY))return this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.drawDashRect(this.ctx,s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny),this.ctx.strokeStyle=this.alltype[o].color,this.clickdata.push([s.minx,s.miny,s.maxx-s.minx,s.maxy-s.miny]),this.clickjudge=!0,this.tempnumber=o,void(this.clickjudge1&&(this.clickdata[0][0]==s.minx&&this.clickdata[0][1]==s.miny&&this.clickdata[0][2]==s.maxx-s.minx&&this.clickdata[0][3]==s.maxy-s.miny||(this.clickdata.splice(0,1),this.clickjudge1=!1)));this.generateAgainAll(this.alltype),this.clickjudge=!1;try{this.clickdata[0][0]==s.minx&&this.clickdata[0][1]==s.miny&&this.clickdata[0][2]==s.maxx-s.minx&&this.clickdata[0][3]==s.maxy-s.miny&&(this.clickjudge1=!1,"radomPloygon"!=this.alltype[o].type&&this.cleanScreen(this.ctx),this.clickdata.splice(0,1),this.generateAgainAll(this.alltype))}catch(r){}}this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData)}else this.checkCavs()},canvasMove:function(t){var s,e,a=t.target;s=t.clientX-a.offsetLeft,e=t.clientY-a.offsetTop+document.documentElement.scrollTop;var i=this.clickCanvasX-s,n=this.clickCanvasY-e;if(this.canvasMoveUse){var h=[];if(this.clickjudge){var c=this.alltype[this.tempnumber],l=c.type,o={},r=[];if(!this.clickjudge1)return;switch(l){case"line":break;case"beeline":this.ctx.beginPath(),this.ctx.strokeStyle=c.color,h=[this.ctx,s-.5*c.a,e-.5*c.b,c.a,c.b,this.ctx.strokeStyle,l],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(O,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.stroke();break;case"radius":this.ctx.beginPath(),this.ctx.strokeStyle=c.color,h=[this.ctx,s,e,c.a,c.b,this.ctx.strokeStyle,l],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(b,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.stroke();break;case"rectangle":this.ctx.beginPath(),this.ctx.strokeStyle=c.color,h=[this.ctx,s-.5*c.a,e-.5*c.b,c.a,c.b,this.ctx.strokeStyle,l],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(k,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.stroke();break;case"star":this.ctx.beginPath(),this.ctx.strokeStyle=c.color,h=[this.ctx,s,e,c.a,c.b,this.ctx.strokeStyle,l],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(C,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.stroke();break;case"Ploygon":this.ctx.beginPath(),this.ctx.strokeStyle=c.color,h=[this.ctx,s,e,c.a,c.b,this.ctx.strokeStyle,l,c.polynumber],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(j,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.stroke();break;case"radomPloygon":this.ctx.beginPath(),this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),o={shiftX:i,shiftY:n},r=[c.fir].concat(Object(f["a"])(c.other)),this.ctx.strokeStyle=c.color,h=[this.ctx,c.type,c.color,o].concat(Object(f["a"])(r)),this.ranpolyData=Object(g["a"])(w,Object(f["a"])(h)),this.generateAgainAll(this.ranpolyData),this.ranpolyData.generate(),this.ctx.strokeStyle=c.color,this.ctx.stroke();break}}else{switch(this.type){case"line":this.cleanScreen(this.ctx),this.ctx.strokeStyle=this.colorstyle,this.generateAgainAll(this.alltype),this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,0,0,this.ctx.strokeStyle,this.type],this.alltypetemp.push(Object(g["a"])(x,Object(f["a"])(h)));for(var u=0;u<this.alltypetemp.length;u++)this.alltypetemp[u].generate();break;case"beeline":this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,i,n,this.ctx.strokeStyle,this.type],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(O,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break;case"radius":this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,i,n,this.ctx.strokeStyle,this.type],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(b,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break;case"rectangle":this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,i,n,this.ctx.strokeStyle,this.type],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(k,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break;case"star":this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,i,n,this.ctx.strokeStyle,this.type],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(C,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break;case"Ploygon":this.ctx.beginPath(),this.ctx.strokeStyle=this.colorstyle,h=[this.ctx,s,e,i,n,this.ctx.strokeStyle,this.type,this.polynumber],this.cleanScreen(this.ctx),this.alltypetemp=Object(g["a"])(j,Object(f["a"])(h)),this.generateAgainAll(this.alltype),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break;case"radomPloygon":this.ctx.beginPath(),this.cleanScreen(this.ctx),this.ctx.strokeStyle=this.colorstyle,this.generateAgainAll(this.allRanPolyData),this.judge1=!0,h=this.judge2&&0!=this.tempcanvax?[this.ctx,this.tempcanvax,this.tempcanvay,-i,-n,this.tempcount,s-this.tempcanvax,e-this.tempcanvay,this.ctx.strokeStyle,this.type]:[this.ctx,s,e,i,n,this.tempcount,0,0,this.ctx.strokeStyle,this.type],this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData),this.alltypetemp=Object(g["a"])(P,Object(f["a"])(h)),this.alltypetemp.generate(),this.ctx.strokeStyle=this.colorstyle,this.ctx.stroke();break}this.ctx.closePath()}}else{var y;if(!this.clickjudge)if(this.cursorjudge)switch(this.cursordirection){case"left":return y=!0,this.cleanScreen(this.ctx,y),this.canvasMoveData=[this.ctx,-i,this.canvasOrigindata[1],this.canvasOrigindata[0]+this.canvaswidth-s,this.canvasheight],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"right":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.canvasMoveData=[this.ctx,0,this.canvasOrigindata[1],t.clientX-a.offsetLeft,this.canvasheight],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"top":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.fullCanvas.style.textAlign="left",this.canvasMoveData=[this.ctx,this.canvasOrigindata[0],-n,this.canvaswidth,this.canvasOrigindata[1]+this.canvasheight-e],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"down":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasMoveData=[this.ctx,this.canvasOrigindata[0],0,this.canvaswidth,t.clientY-a.offsetTop+document.documentElement.scrollTop],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"lefttop":return y=!0,this.cleanScreen(this.ctx,y),this.canvasMoveData=[this.ctx,-i,-n,this.canvasOrigindata[0]+this.canvaswidth-s,this.canvasOrigindata[1]+this.canvasheight-e],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"righttop":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.canvasMoveData=[this.ctx,0,-n,t.clientX-a.offsetLeft,this.canvasOrigindata[1]+this.canvasheight-e],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"leftdown":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasMoveData=[this.ctx,-i,0,this.canvasOrigindata[0]+this.canvaswidth-s,t.clientY-a.offsetTop+document.documentElement.scrollTop],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath();case"rightdown":return y=!0,this.cleanScreen(this.ctx,y),this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasMoveData=[this.ctx,0,0,t.clientX-a.offsetLeft,t.clientY-a.offsetTop+document.documentElement.scrollTop],this.drawDashRect.apply(this,Object(f["a"])(this.canvasMoveData)),this.ctx.stroke(),void this.ctx.closePath()}else this.clickCanvasX=t.clientX-t.target.offsetLeft>this.canvaswidth/2?t.clientX-this.canvaswidth-t.target.offsetLeft:t.clientX-t.target.offsetLeft,this.clickCanvasY=t.clientY-t.target.offsetTop+document.documentElement.scrollTop>this.canvasheight/2?t.clientY-this.canvasheight-t.target.offsetTop+document.documentElement.scrollTop:t.clientY-t.target.offsetTop+document.documentElement.scrollTop,this.clickCanvasX<=1&&this.clickCanvasX>=0&&Math.abs(this.clickCanvasY)>=3&&(this.cursordirection="left",this.cursorstyle="w-resize"),this.clickCanvasX>=-1&&this.clickCanvasX<0&&Math.abs(this.clickCanvasY)>=3&&(this.cursorstyle="w-resize",this.cursordirection="right"),this.clickCanvasY<=1&&this.clickCanvasY>=0&&Math.abs(this.clickCanvasX)>=3&&(this.cursordirection="top",this.cursorstyle="s-resize"),this.clickCanvasY>=-1&&this.clickCanvasY<0&&Math.abs(this.clickCanvasX)>=3&&(this.cursordirection="down",this.cursorstyle="s-resize"),this.clickCanvasX<=2&&this.clickCanvasX>=0&&this.clickCanvasY<=2&&this.clickCanvasY>=0&&(this.cursordirection="lefttop",this.cursorstyle="se-resize"),this.clickCanvasX<=2&&this.clickCanvasX>=0&&this.clickCanvasY>=-2&&this.clickCanvasY<0&&(this.cursordirection="leftdown",this.cursorstyle="ne-resize"),this.clickCanvasX>=-2&&this.clickCanvasX<0&&this.clickCanvasY<=2&&this.clickCanvasY>=0&&(this.cursordirection="righttop",this.cursorstyle="ne-resize"),this.clickCanvasX>=-2&&this.clickCanvasX<0&&this.clickCanvasY>=-2&&this.clickCanvasY<0&&(this.cursordirection="rightdown",this.cursorstyle="se-resize"),Math.abs(this.clickCanvasX)>=3&&Math.abs(this.clickCanvasY)>=3&&(this.cursorstyle="default")}},canvasUp:function(t){if(this.cursorjudge){var s=t.target;switch(this.cleanScreen(this.ctx,1),this.cursordirection){case"left":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(t.clientX-s.offsetLeft,"px"),this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasmargintop=this.canvasOrigindata[1],this.confirmCavs()));case"right":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasmargintop=this.canvasOrigindata[1],this.confirmCavs()));case"top":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=0==this.canvasMoveData[2]?this.canvasmargintop:this.canvasMoveData[2],this.confirmCavs()));case"down":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=parseInt(this.$refs.controlCanvas.style.marginTop),this.confirmCavs()));case"lefttop":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(t.clientX-s.offsetLeft,"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=0==this.canvasMoveData[2]?this.canvasmargintop:this.canvasMoveData[2],this.confirmCavs()));case"righttop":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=0==this.canvasMoveData[2]?this.canvasmargintop:this.canvasMoveData[2],this.confirmCavs()));case"leftdown":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(t.clientX-s.offsetLeft,"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=parseInt(this.$refs.controlCanvas.style.marginTop),this.confirmCavs()));case"rightdown":return void(this.confirmCheckCavs()&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.$refs.controlCanvas.style.marginTop="".concat(0==this.canvasMoveData[2]?this.canvasOrigindata[1]:this.canvasMoveData[2],"px"),this.canvasmargintop=parseInt(this.$refs.controlCanvas.style.marginTop),this.confirmCavs()))}}this.canvasMoveUse=!1;var e,a,i=t.target;if(e=t.clientX-i.offsetLeft,a=t.clientY-i.offsetTop+document.documentElement.scrollTop,this.judge1)if(this.judge3=this.sucker(this.ctx,this.tempdata[0].x,this.tempdata[0].y,e,a),this.allRanPolyData.push(this.alltypetemp),this.judge3){var n=[this.ctx,e,a,this.tempdata[0].x,this.tempdata[0].y,this.tempcount,this.ctx.strokeStyle,this.type];this.allRanPolyData.push(Object(g["a"])(D,n));var h=[this.ctx,this.allRanPolyData[0].x+this.allRanPolyData[0].a,this.allRanPolyData[0].y+this.allRanPolyData[0].b,this.allRanPolyData[0].x,this.allRanPolyData[0].y,this.tempcount],c=Object(g["a"])(D,h);this.key=[],this.key.push(c);for(var l=1;l<this.allRanPolyData.length;l++)this.key.push(this.allRanPolyData[l]);var o=Object(g["a"])(w,[this.ctx,this.type,this.ctx.strokeStyle,0].concat(Object(f["a"])(this.key)));this.alltype.push(o),this.tempcanvax=0,this.tempcanvay=0,this.tempcount=0,this.tempdata=[],this.tempupdata=[],this.allRanPolyData=[],this.alltypetemp=[],this.judge1=!1,this.judge2=!1,this.judge3=!1}else{this.tempupdata.push({x:e,y:a});var r=Math.pow(Math.abs(this.tempupdata[0].x-this.tempdata[0].x),2),u=Math.pow(Math.abs(this.tempupdata[0].y-this.tempdata[0].y),2),y=Math.sqrt(r+u);if(y<5)return y=0,this.cleanScreen(this.ctx),this.tempcanvax=0,this.tempcanvay=0,this.tempcount=0,this.tempdata=[],this.tempupdata=[],this.judge1=!1,this.judge2=!1,void(this.judge3=!1);this.judge2=!0,this.tempcanvax=e,this.tempcanvay=a,this.tempcount++}else try{this.judge3=this.sucker(this.ctx,this.tempdata[0].x,this.tempdata[0].y,e,a),this.judge3&&(this.allRanPolyData=[])}catch(d){}if(this.clickjudge){if(this.clickjudge1){if("radomPloygon"!=this.alltype[this.tempnumber].type)0!=this.alltypetemp.length&&(this.alltype.push(this.alltypetemp),this.alltypetemp=[],this.alltype.splice(this.tempnumber,1)),this.clickjudge=!1,this.clickjudge1=!1,this.clickdata=[];else{if(0!=this.ranpolyData.length){var v=this.ranpolyData.offset;this.ranpolyData.fir.x=this.ranpolyData.fir.x-v.shiftX,this.ranpolyData.fir.y=this.ranpolyData.fir.y-v.shiftY;for(var p=0;p<this.ranpolyData.other.length;p++)this.ranpolyData.other[p].x=this.ranpolyData.other[p].x-v.shiftX,this.ranpolyData.other[p].y=this.ranpolyData.other[p].y-v.shiftY;this.ranpolyData.offset={shiftX:0,shiftY:0},this.alltype.push(this.ranpolyData),this.alltype.splice(this.tempnumber,1),this.ranpolyData=[]}this.clickjudge=!1,this.clickjudge1=!1,this.clickdata=[]}return this.cleanScreen(this.ctx),void this.generateAgainAll(this.alltype)}this.clickjudge1=!0}else"radomPloygon"!=this.type&&0!=this.alltypetemp.length&&(this.alltype.push(this.alltypetemp),this.alltypetemp=[]),this.cursorjudge=!1,this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData)},canvasLeave:function(){this.canvasMoveUse=!1,M.removeHandler(document,"mousewheel",this.handleScroll,!0),M.removeHandler(document,"DOMMouseScroll",this.handleScroll,!0)},clean:function(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.ctx.beginPath(),this.ctx.clearRect(0,0,this.canvaswidth,this.canvasheight),this.ctx.strokeStyle="rgb(0,0,0,1)",this.ctx.rect(0,0,this.canvaswidth,this.canvasheight),this.ctx.stroke(),this.ctx.closePath(),this.polynumber=0,this.tempcount=0,this.judge1=!1,this.judge2=!1,this.judge3=!1,this.clickjudge=!1,this.clickjudge1=!1,this.tempdata=[],this.tempupdata=[],this.tempcanvax=0,this.tempcanvay=0,this.alltype=[],this.type="line"},cleanScreen:function(t,s){t.beginPath(),s?t.clearRect(0,0,1400,1200):(t.clearRect(0,0,this.canvaswidth,this.canvasheight),t.strokeStyle="rgb(0,0,0,1)",t.rect(0,0,this.canvaswidth,this.canvasheight),t.stroke()),t.closePath()},openbox:function(t){var s=this;this.$prompt("请输入边数","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^((0?[3-9])|((1)[0-9])|20)$/,inputErrorMessage:"请输入大于等于3小于等于20的整数"}).then(function(e){var a=e.value;s.$message({type:"success",message:"你输入的边数是: "+a}),"Ploygon"==t&&(s.polynumber=a)}).catch(function(){s.$message({type:"info",message:"取消输入"}),s.type="line"})},sucker:function(t,s,e,a,i){t.beginPath(),t.arc(s,e,5,0,2*Math.PI),t.closePath();var n=Math.sqrt((a-s)*(a-s)+(i-e)*(i-e));return n<=5},drawDashLine:function(t,s,e){var a=Object(p["a"])(s,2),i=a[0],n=a[1],h=Object(p["a"])(e,2),c=h[0],l=h[1],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=c-i,u=l-n,y=Math.floor(Math.sqrt(r*r+u*u)/o),v=r/y,f=u/y;t.beginPath();for(var g=0;g<y;g++)g%2===0?t.moveTo(i,n):t.lineTo(i,n),i+=v,n+=f;t.lineTo(c,l)},drawDashRect:function(t,s,e,a,i){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;return t.strokeStyle="rgb(0,0,0,1)",this.drawDashLine(t,[s,e],[s+a,e],n),t.stroke(),this.drawDashLine(t,[s+a,e],[s+a,e+i],n),t.stroke(),this.drawDashLine(t,[s+a,e+i],[s,e+i],n),t.stroke(),this.drawDashLine(t,[s,e+i],[s,e],n),t.stroke(),!0},generateAgainAll:function(t){for(var s,e=t,a=0;a<e.length;a++)if(e[a]instanceof Array){s=e[a],this.ctx.moveTo(s[0].x,s[0].y);for(var i=0;i<s.length;i++)this.ctx.lineTo(s[i].x,s[i].y),s[i].generate();s=[],this.ctx.beginPath(),this.ctx.strokeStyle="rgb(0,0,0,1)",this.ctx.stroke(),this.ctx.closePath()}else this.ctx.beginPath(),this.ctx.strokeStyle=e[a].color,this.ctx.stroke(),this.ctx.strokeStyle=e[a].color,e[a].generate(),this.ctx.strokeStyle=e[a].color,this.ctx.stroke(),this.ctx.closePath()},dele:function(){this.clickjudge||this.clickjudge1?(this.alltype.splice(this.tempnumber,1),this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.clickjudge=!1,this.clickjudge1=!1,this.clickdata=[]):this.$notify({title:"删除图形",message:"您未选定图形删除"})},checkCavs:function(){this.canvasMoveUse=!1,this.cursorjudge=!0,this.canvas.height=1200,this.canvas.width=1400;var t=parseInt(this.$refs.controlCanvas.style.marginLeft);this.$refs.controlCanvas.style.marginLeft="0px";var s=parseInt(this.$refs.controlCanvas.style.marginTop);this.$refs.controlCanvas.style.marginTop="0px",this.canvasmargintop=0,this.canvasmargintopbackup=0,this.canvasOrigindata=[t||(1400-this.canvaswidth)/2,s,this.canvaswidth,this.canvasheight],this.drawDashRect.apply(this,[this.ctx].concat(Object(f["a"])(this.canvasOrigindata))),this.ctx.stroke()},confirmCheckCavs:function(){return this.cursorstyle="default",this.cursordirection="",this.cursorjudge=!1,this.canvasMoveData[3]>=1500||this.canvasMoveData[4]>=1300?(this.$alert("您扩充的画布太大，请重试！","扩充画布",{confirmButtonText:"确定",callback:function(){}}),this.$refs.controlCanvas.style.marginTop=this.canvasOrigindata[1],this.canvasmargintop=0==this.canvasOrigindata[1]?this.canvasmargintop:this.canvasOrigindata[1],this.$refs.controlCanvas.style.marginLeft=this.canvasOrigindata[0],this.ctx.beginPath(),this.ctx.rect(0,0,this.canvaswidth,this.canvasheight),this.canvasMoveData=[],this.ctx.stroke(),this.ctx.closePath(),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData),!1):!(this.canvasMoveData[3]<=20||this.canvasMoveData[4]<=20)||(this.$alert("您缩小的画布太小，请重试！","缩小画布",{confirmButtonText:"确定",callback:function(){}}),this.$refs.controlCanvas.style.marginTop="".concat(this.canvasOrigindata[1],"px"),this.canvasmargintop=0==this.canvasOrigindata[1]?this.canvasmargintop:this.canvasOrigindata[1],this.$refs.controlCanvas.style.marginLeft="".concat(this.canvasOrigindata[0],"px"),this.ctx.beginPath(),this.ctx.rect(0,0,this.canvaswidth,this.canvasheight),this.canvasMoveData=[],this.ctx.stroke(),this.ctx.closePath(),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData),!1)},confirmCavs:function(){this.cursorstyle="default",this.cursordirection="",this.cursorjudge=!1,this.canvaswidth=this.canvasMoveData[3],this.canvasheight=this.canvasMoveData[4],this.canvas.height=this.canvasMoveData[4],this.canvas.width=this.canvasMoveData[3],this.ctx.beginPath(),this.ctx.rect(0,0,this.canvasMoveData[3],this.canvasMoveData[4]),this.canvasMoveData=[],this.ctx.stroke(),this.ctx.closePath(),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData)},savedev:function(){var t=[this.$refs.controlCanvas.style.marginTop,this.canvasmargintop,this.$refs.controlCanvas.style.marginLeft,this.canvaswidth,this.canvasheight,this.$refs.fullCanvas.style.textAlign];if(this.alltype.length){this.cleanScreen(this.ctx),this.generateAgainAll(this.alltype),this.generateAgainAll(this.allRanPolyData);var s=JSON.stringify(this.alltype)+t,e=document.createElement("a");e.download="filename",e.style.display="none";var a=new Blob([s]);e.href=URL.createObjectURL(a),document.body.appendChild(e),e.click(),document.body.removeChild(e)}else this.$alert("画布中并没有图形，无需保存！","保存图形",{confirmButtonText:"确定",callback:function(){}})},loadcav:function(t){var s=t.lastIndexOf("]"),e=t.substring(s+1,t.length).split(",");try{for(var a=JSON.parse(t.substring(0,s+1)),i=[],n=[],h=0;h<a.length;h++){if(a[h]instanceof Array){for(var c=a[h],l=[],o=0,r=c.length;o<r;o++)n=[this.ctx,c[o].x,c[o].y,c[o].a,c[o].b,c[o].color,c[o].type],l.push(Object(g["a"])(x,Object(f["a"])(n)));i.push(l)}switch(a[h].type){case"rectangle":n=new k(this.ctx,a[h].x,a[h].y,a[h].a,a[h].b,a[h].color,a[h].type),i.push(n);break;case"radius":n=new b(this.ctx,a[h].x,a[h].y,a[h].a,a[h].b,a[h].color,a[h].type),i.push(n);break;case"beeline":n=new O(this.ctx,a[h].x,a[h].y,a[h].a,a[h].b,a[h].color,a[h].type),i.push(n);break;case"star":n=new C(this.ctx,a[h].x,a[h].y,a[h].a,a[h].b,a[h].color,a[h].type),i.push(n);break;case"Ploygon":n=new j(this.ctx,a[h].x,a[h].y,a[h].a,a[h].b,a[h].color,a[h].type,a[h].polynumber),i.push(n);break;case"radomPloygon":n=Object(g["a"])(w,[this.ctx,a[h].type,a[h].color,a[h].offset,a[h].fir].concat(Object(f["a"])(a[h].other))),i.push(n);break}}if(this.alltype=i,e[3]>=1500||e[4]>=1200)return void this.$alert("您加载的画布太大或太小，请重试！","加载画布",{confirmButtonText:"确定",callback:function(){}});this.canvaswidth=parseInt(e[3]),this.canvasheight=parseInt(e[4]),this.canvasmargintop=parseInt(e[1]),0!=e[5].length&&(this.$refs.fullCanvas.style.textAlign="left",this.$refs.controlCanvas.style.marginLeft=0==e[2].length?"475px":e[2]),this.cleanScreen(this.ctx),this.show(),this.generateAgainAll(this.alltype)}catch(u){return void this.$alert("您加载的图形并非在此页面保存下的，请重试！","加载画布",{confirmButtonText:"确定",callback:function(){}})}}}},x=function(){function t(s,e,a,i,n,h,c){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h}return Object(v["a"])(t,[{key:"generate",value:function(){this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=this.color,this.ctx.stroke()}},{key:"compare",value:function(){return 1}}]),t}(),b=function(){function t(s,e,a,i,n,h,c){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h}return Object(v["a"])(t,[{key:"generate",value:function(){var t=.5522848,s=this.a*t,e=this.b*t,a=this.ctx;a.beginPath(),a.strokeStyle=this.color,a.moveTo(this.x-this.a,this.y),a.bezierCurveTo(this.x-this.a,this.y-e,this.x-s,this.y-this.b,this.x,this.y-this.b),a.bezierCurveTo(this.x+s,this.y-this.b,this.x+this.a,this.y-e,this.x+this.a,this.y),a.bezierCurveTo(this.x+this.a,this.y+e,this.x+s,this.y+this.b,this.x,this.y+this.b),a.bezierCurveTo(this.x-s,this.y+this.b,this.x-this.a,this.y+e,this.x-this.a,this.y),a.closePath()}}]),t}(),k=function(){function t(s,e,a,i,n,h,c){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h}return Object(v["a"])(t,[{key:"generate",value:function(){var t=this.ctx;t.beginPath(),t.rect(this.x,this.y,this.a,this.b),t.strokeStyle=this.color,t.stroke(),t.closePath()}},{key:"compare",value:function(){var t,s,e,a;return t=this.x+this.a,e=this.x,s=this.y+this.b,a=this.y,{minx:t,miny:s,maxx:e,maxy:a}}}]),t}(),C=function(){function t(s,e,a,i,n,h,c){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h,this.offsetx=[],this.offsety=[]}return Object(v["a"])(t,[{key:"generate",value:function(){var t=this.ctx;this.offsetx=[],this.offsety=[],t.beginPath(),t.strokeStyle=this.color;for(var s=0;s<6;s++)t.lineTo(Math.cos((18+72*s)/180*Math.PI)*this.a+this.x,-Math.sin((18+72*s)/180*Math.PI)*this.b+this.y),t.lineTo(Math.cos((54+72*s)/180*Math.PI)*(.4*this.a)+this.x,-Math.sin((54+72*s)/180*Math.PI)*(.4*this.b)+this.y),this.offsetx.push(Math.cos((18+72*s)/180*Math.PI)*this.a+this.x),this.offsetx.push(Math.cos((54+72*s)/180*Math.PI)*(.4*this.a)+this.x),this.offsety.push(-Math.sin((18+72*s)/180*Math.PI)*this.b+this.y),this.offsety.push(-Math.sin((54+72*s)/180*Math.PI)*(.4*this.b)+this.y);t.restore(),t.closePath()}},{key:"compare",value:function(){var t,s,e,a,i=this.offsetx,n=this.offsety;return i=S(i),n=S(n),t=i[0],e=i[i.length-1],s=n[0],a=n[n.length-1],{minx:t,miny:s,maxx:e,maxy:a}}}]),t}(),j=function(){function t(s,e,a,i,n,h,c,l){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h,this.polynumber=l,this.offsetx=[],this.offsety=[]}return Object(v["a"])(t,[{key:"generate",value:function(){var t=this.ctx,s=this.polynumber,e=2*Math.PI/s;this.offsetx=[],this.offsety=[],t.save(),t.translate(this.x,this.y),t.strokeStyle=this.color,t.moveTo(0,-this.b),t.beginPath();for(var a=0;a<s;a++)t.rotate(e),t.lineTo(0,-this.b),this.offsetx.push(-this.b*Math.sin(e*(a+1))+this.x),this.offsety.push(-this.b*Math.cos(e*(a+1))+this.y);t.closePath(),t.restore()}},{key:"compare",value:function(){var t,s,e,a,i=this.offsetx,n=this.offsety;return i=S(i),n=S(n),t=i[0],e=i[i.length-1],s=n[0],a=n[n.length-1],{minx:t,miny:s,maxx:e,maxy:a}}}]),t}(),O=function(){function t(s,e,a,i,n,h,c){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.type=c,this.color=h}return Object(v["a"])(t,[{key:"generate",value:function(){var t=this.ctx;t.beginPath(),t.strokeStyle=this.color,t.moveTo(this.x,this.y),t.lineTo(this.x+this.a,this.y+this.b),t.closePath()}},{key:"compare",value:function(){var t,s,e,a;return t=Math.min(this.x,this.x+this.a),e=Math.max(this.x,this.x+this.a),s=Math.min(this.y,this.y+this.b),a=Math.max(this.y,this.y+this.b),{minx:t,miny:s,maxx:e,maxy:a}}}]),t}(),P=function(){function t(s,e,a,i,n,h,c,l,o,r){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.mox=c,this.moy=l,this.tempcount=h,this.type=r,this.color=o}return Object(v["a"])(t,[{key:"generate",value:function(){var t=this.ctx;t.beginPath(),t.moveTo(this.x,this.y),0!=this.tempcount?t.lineTo(this.mox+this.x,this.moy+this.y):t.lineTo(this.x+this.a,this.y+this.b),t.strokeStyle=this.color,t.closePath()}}]),t}(),D=function(){function t(s,e,a,i,n,h,c,l,o,r){Object(y["a"])(this,t),this.ctx=s,this.x=e,this.y=a,this.a=i,this.b=n,this.mox=c,this.moy=l,this.tempcount=h,this.type=r,this.color=o}return Object(v["a"])(t,[{key:"generate",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.a,this.b),this.ctx.closePath()}}]),t}(),w=function(){function t(s,e,a,i,n){Object(y["a"])(this,t),this.ctx=s,this.fir=n;for(var h=arguments.length,c=new Array(h>5?h-5:0),l=5;l<h;l++)c[l-5]=arguments[l];this.other=c,this.type=e,this.color=a,this.offset=0==i?{shiftX:0,shiftY:0}:i}return Object(v["a"])(t,[{key:"generate",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.fir.x-this.offset.shiftX,this.fir.y-this.offset.shiftY),this.ctx.lineTo(this.other[0].x-this.offset.shiftX,this.other[0].y-this.offset.shiftY);for(var t=1;t<this.other.length;t++)this.ctx.lineTo(this.other[t].x-this.offset.shiftX,this.other[t].y-this.offset.shiftY);this.ctx.closePath()}},{key:"compare",value:function(){for(var t,s,e,a,i=[this.fir.x-this.offset.shiftX],n=[this.fir.y-this.offset.shiftY],h=0;h<this.other.length;h++)i.push(this.other[h].x-this.offset.shiftX),n.push(this.other[h].y-this.offset.shiftY);return i=S(i),n=S(n),t=i[0],e=i[i.length-1],s=n[0],a=n[n.length-1],{minx:t,miny:s,maxx:e,maxy:a}}}]),t}();function S(t){for(var s=0;s<t.length;s++)for(var e=0;e<t.length-1-s;e++)if(t[e]>t[e+1]){var a=t[e];t[e]=t[e+1],t[e+1]=a}return t}var A=function(){var t={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null};return{engine:t}}(),M={getEvent:function(t){return t||window.event},addHandler:function(t,s,e){t.addEventListener?t.addEventListener(s,e,!1):t.attachEvent?t.attachEvent("on"+s,e):t["on"+s]=e},removeHandler:function(t,s,e){t.addEventListener?t.removeEventListener(s,e,!1):t.attachEvent?t.detachEvent("on"+s,e):t["on"+s]=e},getWheelDelta:function(t){var s=null;return s=t.wheelDelta?A.engine.opera&&A.engine.opera<9.5?-t.wheelDelta:t.wheelDelta:40*-t.detail,s>0?1:-1}},$=m,T=(e("17df"),e("2877")),R=Object(T["a"])($,r,u,!1,null,"b2916d0c",null),L=R.exports,X=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-row",{attrs:{gutter:12}},[e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{shadow:"hover"}},[e("el-container",[e("el-main",[e("div",[e("div",{staticClass:"flexColumn"},[e("el-button",{attrs:{size:"mini",icon:"el-icon-smoking",round:""},on:{click:function(s){return t.clean()}}},[t._v("清空画布")]),e("el-button",{attrs:{icon:"el-icon-delete",size:"mini",round:""},on:{click:function(s){return t.dele()}}},[t._v("删除图形")]),e("el-button",{attrs:{icon:"el-icon-folder-add",size:"mini",round:""},on:{click:function(s){return t.savecav()}}},[t._v("保存画布")]),e("div",{staticClass:"flexColumnchild"},[e("el-upload",{ref:"upload",attrs:{action:"/",accept:".txt","before-upload":t.beforeUpload,"default-file-list":this.fileList}},[e("el-button",{staticStyle:{"font-size":"12px",width:"97px","margin-left":"10px",height:"40px"},attrs:{icon:"el-icon-folder-opened",size:"medium",round:""}},[t._v("加载画布")])],1)],1)],1)])]),e("el-footer",{staticStyle:{height:"30px"}},[t._v("工具")])],1)],1)],1),e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{shadow:"hover"}},[e("el-container",[e("el-main",[e("div",{staticStyle:{"line-height":"16px"}},[e("div",[e("el-button",{attrs:{autofocus:!0,size:"small"},on:{click:function(s){return t.line()}}},[t._v("线条")]),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.beeline()}}},[t._v("直线")]),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.star()}}},[t._v("五角星")])],1),e("div",[e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.rectangle()}}},[t._v("矩形")]),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.radius()}}},[t._v("圆形")]),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.Ploygon()}}},[t._v("多边形")]),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.radomPloygon()}}},[t._v("任意多边形")])],1)])]),e("el-footer",{staticStyle:{height:"30px"}},[t._v("形状")])],1)],1)],1),e("el-col",{attrs:{span:6}},[e("el-card",{attrs:{shadow:"hover"}},[e("el-container",[e("el-main",{staticStyle:{padding:"8.5px"}},[e("div",{staticClass:"colorstyle"},[e("div",{staticClass:"colorstylechild"},[e("el-button",{staticClass:"test",style:t.styleObj[0],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[1],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[2],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[3],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[4],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}})],1),e("div",{staticClass:"colorstylechild"},[e("el-button",{style:t.styleObj[5],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[6],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[7],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[8],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[9],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}})],1),e("div",{staticClass:"colorstylechild"},[e("el-button",{style:t.styleObj[10],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[11],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[12],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[13],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}}),e("el-button",{style:t.styleObj[14],attrs:{size:"mini"},on:{click:function(s){return t.color1(s)}}})],1)])]),e("el-footer",{staticStyle:{height:"30px"}},[t._v("颜色")])],1)],1)],1)],1)],1)},Y=[],z=(e("34ef"),{name:"toolBar",props:{msg:String},beforeCreate:function(){FileReader.prototype.reading=function(t){var s=t.encode,e=new Uint8Array(this.result),a=new TextDecoder(s||"UTF-8").decode(e);return a},FileReader.prototype.readAsBinaryString=function(t){this.onload||(this.onload=function(){}),this.readAsArrayBuffer(t)}},mounted:function(){this.show()},data:function(){return{act:"1",fileList:"",styleObj:[{value:"1",backgroundColor:"rgb(0,0,0,1)"},{value:"2",backgroundColor:"rgb(127,127,127,1)"},{value:"3",backgroundColor:"rgb(136,0,21,1)"},{value:"4",backgroundColor:"rgb(120,150,30,1)"},{value:"5",backgroundColor:"rgb(237,28,36,1)"},{value:"6",backgroundColor:"rgb(255,242,0,1)"},{value:"7",backgroundColor:"rgb(255,127,39,1)"},{value:"8",backgroundColor:"rgb(34,177,76,1)"},{value:"9",backgroundColor:"rgb(0,162,232,1)"},{value:"10",backgroundColor:"rgb(63,72,204,1)"},{value:"11",backgroundColor:"rgb(163,73,164,1)"},{value:"12",backgroundColor:"rgb(255,255,255,1)"},{value:"13",backgroundColor:"rgb(152,217,234,1)"},{value:"14",backgroundColor:"rgb(30,152,164,1)"}]}},methods:{beforeUpload:function(t){return this.fileList=[t],this.read(t),!1},read:function(t){var s=this,e=new FileReader;e.onload=function(){var t=e.reading({encode:"GBK"});d.$emit("loadcav",t);var a=s.textData;s.textData=a+"\n"+t},e.readAsBinaryString(t)},show:function(){},color1:function(t){d.$emit("myFun",t.currentTarget.style.backgroundColor)},line:function(){d.$emit("type","line")},beeline:function(){d.$emit("type","beeline")},radius:function(){d.$emit("type","radius")},rectangle:function(){d.$emit("type","rectangle")},star:function(){d.$emit("type","star")},Ploygon:function(){d.$emit("type","Ploygon")},radomPloygon:function(){d.$emit("type","radomPloygon")},clean:function(){d.$emit("clean",!0)},dele:function(){d.$emit("dele",!0)},savecav:function(){d.$emit("savecav",!0)},loadcav:function(){}}}),E=z,_=(e("78ad"),Object(T["a"])(E,X,Y,!1,null,"091dcc7a",null)),I=_.exports,U={name:"app",components:{HelloWorld:L,toolBar:I},data:function(){return{activeIndex:"1",activeIndex2:"1"}},methods:{}},B=U,F=(e("b0a0"),Object(T["a"])(B,l,o,!1,null,null,null)),H=F.exports;a["default"].use(i["a"]);var N={showFooter:!0,changableNum:0,count:0},W={isShow:function(t){return t.showFooter},getChangedNum:function(){return N.changableNum}},J={show:function(t){t.showFooter=!0},hide:function(t){t.showFooter=!1},newNum:function(t,s){t.changableNum+=s},increment:function(t){t.count++}},K={hideFooter:function(t){t.commit("hide")},showFooter:function(t){t.commit("show")},getNewNum:function(t,s){t.commit("newNum",s)},checkout:function(t,s){var e=t.commit,a=t.state,i=Object(f["a"])(a.cart.added);e(types.CHECKOUT_REQUEST),shop.buyProducts(s,function(){return e(types.CHECKOUT_SUCCESS)},function(){return e(types.CHECKOUT_FAILURE,i)})},actionA:function(t){var s=t.commit;return new Promise(function(t,e){setTimeout(function(){s("someMutation"),t()},1e3)})}},q=new i["a"].Store({state:N,getters:W,mutations:J,actions:K}),G=q;a["default"].use(n["a"]);var Q={template:"<div>foo</div>"},V={template:"<div>User {{ $route.params.id }}</div>"},Z={template:"<div>bar</div>"},tt=[{path:"/foo",component:Q},{path:"/bar",component:Z},{path:"/user/:id",component:V}],st=new n["a"]({routes:tt}),et=st;a["default"].use(c.a),a["default"].use(i["a"]),a["default"].use(n["a"]),new a["default"]({el:"#app",store:G,router:et,render:function(t){return t(H)}})},"78ad":function(t,s,e){"use strict";var a=e("84e5"),i=e.n(a);i.a},"7e58":function(t,s,e){},"84e5":function(t,s,e){},b0a0:function(t,s,e){"use strict";var a=e("07bb"),i=e.n(a);i.a}});
//# sourceMappingURL=app.e55ce058.js.map